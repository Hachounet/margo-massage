---
import BaseLayout from "..//layouts/BaseLayout.astro";
import CTA from "../components/CTA.astro";
import { Picture } from "astro:assets";
import CTAImage from "../assets/images/back-massage2.jpg"
import unknowUserIcon from "../assets/images/icons/unknow-user.svg"

// Optimize our landing image and pass it as props to the BaseLayout (for preloading) and Landing (for rendering)
import {getOptimizedImage} from "../js/utils"
import landingImage from "../assets/images/back-massage2.jpg" // <-- THE PATH TO THE ASSET YOU WANT TO PRELOAD - The asset must live in src
const optimizedImage = await getOptimizedImage(landingImage)
---

<BaseLayout
  title="Avis clients"
  description="Page des avis clients de MargoMassage, masseuse à domicile à La Rochelle"
  preloadedImage = {optimizedImage}
>

 

  <!-- ============================================ -->
  <!--                  Reviews                     -->
  <!-- ============================================ -->

  <section id="reviews">
    
    <div class="container">
      
      <div class="review">
        <Picture 
        class={"profile"}
        src={unknowUserIcon}
        alt="unknow user profile image"
        loading={"lazy"}
        decoding={"async"}
        />
       
        <p>
          Un massage très agréable, les noeuds dans mon dos sont partis et je n'ai pas vu passé l'heure. Je recommande.
        </p>
        <div class="star-group">
          <span class="name">Valentin GUERIN.<span class="desc">Client(e)</span></span>
          <picture>
            <img
              aria-hidden="true"
              loading="lazy"
              decoding="async"
              src="/assets/svgs/stars.svg"
              alt="stars"
              width="91"
              height="15"
            />
          </picture>
        </div>
      </div>
      <div class="review">
          <Picture 
              class={"profile"}
              src={unknowUserIcon}
              alt="unknow user profile image"
              loading={"lazy"}
              decoding={"async"}
            />
       
        <p>
            Trop cool, je n'ai plus du tout mal au dos. Je suis détendu et je me sens bien. Merci beaucoup.
        </p>
        <div class="star-group">
          <span class="name">Manon BEAUVOIT.<span class="desc">Client(e)</span></span>
          <picture>
            <img
              aria-hidden="true"
              loading="lazy"
              decoding="async"
              src="/assets/svgs/stars.svg"
              alt="stars"
              width="91"
              height="15"
            />
          </picture>
        </div>
      </div>
    </div>
  </section>
  <CTA />
</BaseLayout>

<style lang="less">
  /* PAGE-SPECIFIC STYLES FOR THE REVIEWS PAGE */

  /*-- -------------------------- -->
<---           Reviews          -->
<--- -------------------------- -*/

  /* Mobile */
  @media only screen and (min-width: 0em) {
    #reviews {
      margin: auto;
      padding-top: (120/16rem);
      padding-bottom: (50/16rem);

      .container {
        width: 96%;
        max-width: (1320/16rem);
      }

      .review {
        width: 100%;
        max-width: (410/16rem);
        margin: auto;
        margin-bottom: (100/16rem);
        padding: (64/16rem) (30/16rem) (18/16rem) (30/16rem);
        background: #fff;
        box-shadow: 0px 20px 40px rgba(0, 0, 0, 0.05);
        border-radius: (5/16rem);
        display: flex;
        flex-direction: column;
        position: relative;
        &:last-of-type {
          margin-bottom: 0;
        }

        .profile {
          width: (99/16rem);
          height: (99/16rem);
          margin-bottom: (16/16rem);
          margin-left: 0;
          border-radius: 50%;
          display: block;
          position: absolute;
          top: (-51/16rem);
          left: (30/16rem);
        }

        p {
          line-height: 1.5em;
          text-align: left;
          margin-bottom: (28/16rem);
        }

        .star-group {
          margin-top: auto;
          padding-top: (16/16rem);
          border-top: 1px solid #e7e7e7;
          display: flex;
          justify-content: space-between;
          align-items: center;
          flex-wrap: nowrap;

          .name {
            font-weight: bold;
            line-height: (24/16rem);
            text-align: left;
            color: #1a1a1a;
            display: block;
          }

          .desc {
            font-weight: 400;
            color: #575757;
            display: block;
          }

          img {
            width: (91/16rem);
            height: (15/16rem);
            margin: 0;
            display: block;
          }
        }
      }
    }
  }

  /* Tablet */
  @media only screen and (min-width: 48em) {
    #reviews {
      padding-top: (150/16rem);
      padding-bottom: (50/16rem);

      .container {
        font-size: ~"min(1.4vw, 1em)";
        padding: 0;
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        column-gap: (30/16rem);
      }

      .review {
        margin: 0;
        margin-bottom: (150/16rem);

        &:last-of-type {
          margin-bottom: (150/16rem);
        }
      }
    }
  }

  /* Dark Mode */
  @media only screen and (min-width: 0em) {
    body.dark-mode {
      #reviews {
        .review {
          background: var(--medium);

          .star-group {
            .name {
              color: #fff;
            }

            .desc {
              color: #fff;
              opacity: 0.7;
            }
          }
        }
      }
    }
  }
</style>
